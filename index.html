<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>antlr-calculator Demo</title>
	<link rel="icon" type="image/png" href="/favicon.png">
    <meta charset="utf-8" />
    <!-- Fork me on GitHub Stylesheet, see  https://github.com/simonwhitaker/github-fork-ribbon-css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css" />
    <!--[if lt IE 9]>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
    <![endif]-->
    <script type="text/javascript" src="dist/bundle.js"></script>
    <script type="text/javascript">
        function calculate() {
            var formula = document.getElementById('formulaInput').value;
            var result = antlrCalc.Calculator.calculate(formula);
            document.getElementById('resultHeading').innerText = 'Result: ' + result.result;
            document.getElementById('resultJson').innerText = JSON.stringify(result, null, 2);
            if (!result.isValid) {
                document.getElementById('correctPart').innerText = formula.substring(0, result.errorPosition);
                document.getElementById('invalidPart').innerText = formula.substring(result.errorPosition);
            } else {
                document.getElementById('correctPart').innerText = null;
                document.getElementById('invalidPart').innerText = null;
            }
            console.log("Calculated result:");
            console.log(result);
        }
    </script>
</head>
<body>
    <h1>antlr-calculator Demo</h1>
    <p>Enter your formula here:</p>
<input type="text" id="formulaInput" onkeyup="calculate()" />
    <br />
    <br />
    <span id="correctPart"></span><span style="background:red;" id="invalidPart"></span>
    <h3 id="resultHeading">Result: </h3>
	<hr />
	<a href="https://www.dangl-it.com">&copy; Georg Dangl</a>
	-
	<a href="https://blog.dangl.me">Blog</a>
<pre id="resultJson"></pre>
    <a class="github-fork-ribbon" href="https://github.com/GeorgDangl/antlr-calculator" title="Fork me on GitHub">Fork me on GitHub</a>
</body>
</html>
